<mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false" [formGroup]="formGroup">
	<mat-expansion-panel-header style="margin-top:10px;">
		<mat-panel-description class="voucherItems">
			<div fxLayout="row">
				<div fxLayoutGap="15px">
					<mat-form-field class="item" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('item').invalid && formGroup.get('item').touched }">
						<mat-label [attr.for]="'item'+parentData">Item</mat-label>
						<input matInput matInput [id]="'item'+parentData" formControlName="item">
						<mat-error>
							{{getItemError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width inputs" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('uom').invalid && formGroup.get('uom').touched }">
						<mat-label [attr.for]="'uom'+parentData">UOM</mat-label>
						<input matInput [id]="'uom'+parentData" formControlName="uom">
						<mat-error>
							{{ getUomError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width inputs" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('quantity').invalid && formGroup.get('quantity').touched }">
						<mat-label [attr.for]="'quantity'+parentData">Qnty</mat-label>
						<input matInput [id]="'quantity'+parentData" formControlName="quantity">
						<mat-error>
							{{getQuantityError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width inputs" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('price').invalid && formGroup.get('price').touched }">
						<mat-label [attr.for]="'price'+parentData">Price</mat-label>
						<input matInput [id]="'price'+parentData" formControlName="price">
						<mat-error>
							{{getPriceError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width inputs" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('lotNo').invalid && formGroup.get('lotNo').touched }">
						<mat-label [attr.for]="'lotNo'+parentData">Lot No</mat-label>
						<input matInput [id]="'lotNo'+parentData" formControlName="lotNo">
						<mat-error>
							{{getLotNoError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width taxInputs" appearance="fill"
						[ngClass]="{'has-error':formGroup.get('tax').invalid && formGroup.get('tax').touched }">
						<mat-label [attr.for]="'tax'+parentData">TAX</mat-label>
						<input matInput [id]="'tax'+parentData" formControlName="tax">
						<mat-error>
							{{getTaxError()}}</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width taxInputs" appearance="fill">
						<mat-label [attr.for]="'amount'+parentData">Amount</mat-label>
						<input matInput [id]="'amount'+parentData" formControlName="amount">
						<mat-error>
							{{getAmountError()}}</mat-error>
					</mat-form-field>
				</div>
				<!-- <span style="margin-top:10px">
				<span class="material-icons" title="delete voucher item" 
        (click)="removeSkillButtonClick()" *ngIf="parentFormGroup.get('skills')['controls'].length>1">
        delete</span></span> -->
				<button *ngIf="parentFormGroup.get('skills')['controls'].length==1" style="border: none; background: none;outline:none;"
            [disabled]="parentFormGroup.get('skills')['controls'].length==1 ? 'disabled' : null "><span class="material-icons" title="delete bill Sundry">delete</span></button>
				<button *ngIf = "parentFormGroup.get('skills')['controls'].length>1" style="border: none; background: none;outline:none;"><span  class="material-icons" title="delete bill Sundry" (click)="removeSkillButtonClick()">delete</span></button>


			</div>


		</mat-panel-description>
	</mat-expansion-panel-header>
	<div fxLayout="row" fxLayoutAlign="space-between end">
		<div>
			<app-voucher-sub-item *ngFor="let sub of formGroup.get('subItem')['controls'];let j=index" [formGroup]="sub"
				[parentFormGroup]="formGroup" [parentData]="j">
			</app-voucher-sub-item>
			<button mat-raised-button style="font-size:10px;margin-top:10px;" (click)="addSubItem(formGroup)">Add Sub Item</button>
		</div>
		<div style="font-size:10px;margin-right:70px;margin-bottom:20px">
			<mat-label style="margin-right:10px">Effective Amount:</mat-label>
			<mat-form-field class="example-full-width" appearance="fill">
				<input matInput formControlName="effectiveAmount">
    </mat-form-field>
		</div>
	</div>

	<app-voucher-bill-sundry *ngFor="let bill of formGroup.get('bills')['controls'];let j=index" [formGroup]="bill"
		[parentFormGroup]="formGroup" [parentData]="j"></app-voucher-bill-sundry>
	<div fxLayoutAlign="center" style="margin-left:140px;margin-top:10px">
		<button mat-raised-button style="font-size:10px" type="button" (click)="addBillSundryClick(formGroup)">
      Add Bill Sundry
    </button>
	</div>

	<div style="font-size:10px;margin-right:70px" fxLayoutAlign="end end" fxLayout="column">
		<div>
			<mat-label style="margin-right:10px;margin-top:10px">Taxable Amount:</mat-label>
			<mat-form-field class="example-full-width" appearance="fill">
				<input matInput formControlName="taxableAmount">
    </mat-form-field>
		</div>
		<div>
			<mat-label style="margin-right:10px;margin-top:10px">cgst@20%2000:</mat-label>
			<mat-form-field class="example-full-width taxFields" appearance="fill">
				<input matInput formControlName="cgstTaxableAmount">
    </mat-form-field>
		</div>
		<div>
			<mat-label style="margin-right:10px;margin-top:10px">sgst@20%2000:</mat-label>
			<mat-form-field class="example-full-width " appearance="fill">
				<input matInput formControlName="sgstTaxableAmount">
    </mat-form-field>
		</div>
		<div>
			<mat-label style="margin-right:10px;margin-top:10px">cess@20%2000</mat-label>
			<mat-form-field class="example-full-width " appearance="fill">
				<input matInput formControlName="cessTaxableAmount">
    </mat-form-field>
		</div>
		<div>
			<mat-label style="margin-right:10px;margin-top:10px;font-size:20px;">Amount</mat-label>
			<mat-form-field class="example-full-width" appearance="fill">
				<input matInput formControlName="finalAmount">
    </mat-form-field>
		</div>

	</div>
</mat-expansion-panel>